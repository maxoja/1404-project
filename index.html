<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800&display=swap"
          rel="stylesheet">
    <script src="anime.min.js"></script>
<!--    <script src="axios.min.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <meta charset="UTF-8">
    <title>1404</title>
    <style>
        body {
            background: #1D1F20;
        }

        .faint-title {
            font: 1.5rem/1 outfit;
            font-weight: 100;
            color: darkgrey;
        }

        .faint-sub-title {
            margin-top: 15px;
            font: 0.8rem/1 outfit;
            font-weight: 100;
            color: darkgrey;
        }

        .button {
            background: #2B2D2F;
            height: 50px;
            width: 270px;
            text-align: center;
            left: 0;
            right: 0;
            margin: 0 auto;
            cursor: pointer;
            border-style: solid;
            border-radius: 4px;
            border-width: 1px;
            border-color: rgba(255, 255, 255, 0);
        }

        .button-text {
            position: relative;
            font: 1rem/1 outfit;
            font-weight: 200; /* 200 */
            color: whitesmoke;
            opacity: 0.5; /* 1 */
            top: 5px;
        }

        #middle-area {
            height: 300px;
            text-align: center;
            position: absolute;
            top: 40%;
            transform: translateY(-50%);
            left: 0;
            right: 0;
            margin: 0 auto;
        }

        #reveal-line {
            transform: translateX(30px);
        }
        #whole-date, #whole-date div {
            display: inline-block;
        }

        #whole-date {
            font-weight: 400;
            transform: translateX(-55px);
        }

        #content-area {
            background: rgba(255,255,255,0.1);
            height: 0px;
            margin-top: -10px;
            padding-top: 10px;
            margin-bottom: 30px;
            opacity: 0;
        }

        .content-item {
            margin-bottom: 10px;
        }

        a:link { text-decoration: none; }
        a:visited { text-decoration: none; }
        a:hover { text-decoration: none; }
        a:active { text-decoration: none; }

        .sample-link {

        }

        /*.stagger-visualizer {*/
        /*    display: flex;*/
        /*    flex-wrap: wrap;*/
        /*    justify-content: center;*/
        /*    align-items: center;*/
        /*    width: 17rem;*/
        /*    height: 17rem;*/
        /*    transform: scale(1,0.1);*/
        /*}*/

        /*.stagger-visualizer div {*/
        /*    !*position: absolute;*!*/
        /*    width: 1rem;*/
        /*    height: 1rem;*/
        /*    border: 1px solid #FFF;*/
        /*    background-color: #FFF;*/
        /*}*/
        #grid-area{
            /*position: absolute;*/
            /*display: flex;*/
            /*flex-wrap: wrap;*/
            /*justify-content: center;*/
            /*align-items: center;*/
            /*width: 400px;*/
            /*height: 100px;*/
        }
    </style>
</head>
<body>
<div id="middle-area">
    <h1 class="faint-title">There is a present for you</h1>
    <div id="reveal-line" class="faint-title date-items">Revealing on
        <div id="whole-date">
            <div id="c2023" style="color: rgba(169,169,169,0)">2023</div>
            <div id="c2024">2024</div>
            -
            <div id="c0208">
                <div id="c02">0<div id="c2">2</div></div>
                -
                <div id="c08">0<div id="c8">8</div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
<!--    <div id="grid-area">-->
    <div id="content-area">
        <h1 class="faint-title content-item sample-link" id="download-link">https://hitnmix.com/downloads</h1>
        <h1 class="faint-title content-item" id="activation-code">XXXX-XXXX-XXXX-XXXX</h1>
        <a href="files/yoasobi%20-%20eiei.mp3"><h1 class="faint-title content-item sample-link">sample 1</h1></a>
        <a href="files/ragdoll%20-%20boosto%20desu.mp3"><h1 class="faint-title content-item sample-link">sample 2</h1></a>
        <a href="files/microwave%20-%20guitar.mp3"><h1 class="faint-title content-item sample-link">sample 3</h1></a>
        <br>
    </div>
<!--        <div class="stagger-visualizer"></div>-->
<!--    </div>-->
<!--    <br>-->
<!--    <br>-->
    <div id="the-button" class="button">
        <h1 id="the-text" class="button-text">However, you can BOOST</h1>
    </div>
    <br>
    <h1 class="faint-sub-title">dear the best guitarist in glasgow (that i know)</h1>
</div>
</body>
<script src="load-code.js"></script>
<script>
    const rInt = (a) => Math.ceil(Math.random() * a)
    const rClr = () => `rgba(${rInt(255)},${rInt(255)},${rInt(255)},1)`
    let flash = false;
    let boosted = false;
    var color = rClr()
    var defaultColor = "#1D1F20"
    var firstTimeline = anime.timeline({
        autoplay: false
    });
    var secondTimeLine = anime.timeline({
        autoplay: false
    });
    const timeTravel = anime.timeline({
        autoplay: false,
        complete:() => {
            for (let i = 0; i < links.length; i += 1) {
                links.item(i).href = cachedLinks[i]
                links.item(i).style.cursor = "pointer"
                // cachedLinks[i] = links.item(i).href
            }
        }
    })
        .add({
            delay: 1000,
            targets: "#c08",
            scaleX: -1,
        })
        .add({
            targets: "#c0208",
            scaleX: -1,
        })
        .add({
            targets: "#c2",
            scaleX: -1,
        })
        .add({
          targets: ["#c2023", "#c2024"],
            translateX: 60,
            color: (e) => {
              if(e.id === "c2023") {
                  return "rgba(169,169,169,1)";
              }
              return "rgba(169,169,169,0)"
            }
        })
        .add({
            targets: ["#content-area"],
            opacity: 1,
            height: "230px"
        })
    firstTimeline
        .add({
            targets: [".button-text"],
            duration: 10000,
            opacity: "1",
            color: "white"
        })
    secondTimeLine
        .add({
            targets: [".button"],
            duration: 10000,
            borderColor: "rgba(255,255,255,0.5)"
        })
    setTimeout(() => {
        firstTimeline.play()
        secondTimeLine.play()
    }, 2000)
    setInterval(() => {
        color = rClr()
        anime({
            targets: "body",
            backgroundColor: () => {
                return flash && !boosted ? color : defaultColor
            },
            duration: 1,
            easing: "linear"
        });
    }, 50)

    document.getElementById("the-button").addEventListener("mouseenter", () => {
        flash = true
    })
    document.getElementById("the-button").addEventListener("mouseleave", () => {
        flash = false
    })


    const links = document.getElementsByTagName("a")
    const cachedLinks = {}
    for (let i = 0; i < links.length; i += 1) {
        console.log('eiei')
        cachedLinks[i] = links.item(i).href
        links.item(i).href = ""
        links.item(i).style.cursor = "auto"
    }
    document.getElementById("the-button").addEventListener("click", () => {
        boosted = true
        timeTravel.play()
    })
</script>
</html>